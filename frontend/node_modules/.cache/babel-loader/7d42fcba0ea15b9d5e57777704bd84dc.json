{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/nikitajethani/Desktop/cs-4530-covey/frontend/src/components/VideoCall/VideoFrontend/components/ParticipantList/ParticipantList.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Participant from '../Participant/Participant';\nimport useMainParticipant from '../../hooks/useMainParticipant/useMainParticipant';\nimport useParticipants from '../../hooks/useParticipants/useParticipants';\nimport useVideoContext from '../../hooks/useVideoContext/useVideoContext';\nimport useSelectedParticipant from '../VideoProvider/useSelectedParticipant/useSelectedParticipant';\nimport useScreenShareParticipant from '../../hooks/useScreenShareParticipant/useScreenShareParticipant';\nimport useNearbyPlayers from '../../../../../hooks/useNearbyPlayers';\n\nfunction useStyles(width) {\n  return makeStyles(theme => createStyles({\n    container: {\n      padding: '2em',\n      overflowY: 'auto',\n      background: 'rgb(79, 83, 85)',\n      gridArea: '1 / 2 / 1 / 3',\n      zIndex: 5,\n      [theme.breakpoints.down('sm')]: {\n        gridArea: '2 / 1 / 3 / 3',\n        overflowY: 'initial',\n        overflowX: 'auto',\n        display: 'flex',\n        padding: '8px'\n      }\n    },\n    transparentBackground: {\n      background: 'transparent'\n    },\n    scrollContainer: {\n      [theme.breakpoints.down('sm')]: {\n        display: 'flex'\n      }\n    },\n    gridContainer: {\n      gridArea: '1 / 1 / 1 / 3',\n      overflowX: 'hidden',\n      overflowY: 'auto',\n      [theme.breakpoints.down('sm')]: {\n        gridArea: '1 / 1 / 3 / 1'\n      }\n    },\n    gridInnerContainer: {\n      display: 'grid',\n      gridTemplateColumns: width === 'sidebar' ? '1fr' : '1fr 1fr 1fr 1fr',\n      gridAutoRows: '1fr',\n      [theme.breakpoints.down('md')]: {\n        gridTemplateColumns: width === 'sidebar' ? '1fr' : '1fr 1fr 1fr'\n      },\n      [theme.breakpoints.down('sm')]: {\n        gridTemplateColumns: width === 'sidebar' ? '1fr' : '1fr 1fr'\n      },\n      [theme.breakpoints.down('xs')]: {\n        gridTemplateColumns: '1fr'\n      }\n    }\n  }))();\n}\n\nexport default function ParticipantList(props) {\n  _s();\n\n  const {\n    room: {\n      localParticipant\n    }\n  } = useVideoContext();\n  const participants = useParticipants();\n  const [selectedParticipant, setSelectedParticipant] = useSelectedParticipant();\n  const screenShareParticipant = useScreenShareParticipant();\n  const mainParticipant = useMainParticipant();\n  const {\n    nearbyPlayers\n  } = useNearbyPlayers(); // const { preferredMode, highlightedProfiles } = useAppState();\n  // const classes = useStyles(preferredMode);\n\n  const classes = useStyles('fullwidth');\n\n  function participantSorter(x, y) {\n    return x.slot < y.slot ? -1 : x.slot === y.slot ? 0 : 1;\n  }\n\n  const participantsEl = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Participant, {\n      participant: localParticipant,\n      isLocalParticipant: true,\n      insideGrid: props.gridView // highlight={highlightedProfiles?.includes(localUserProfile.id) ?? false}\n      ,\n      slot: 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), participants.filter(p => nearbyPlayers.find(player => player.id == p.participant.identity)).sort(participantSorter).map(participantWithSlot => {\n      const {\n        participant\n      } = participantWithSlot;\n      const isSelected = participant === selectedParticipant;\n      const hideParticipant = participant === mainParticipant && participant !== screenShareParticipant && !isSelected && participants.length > 1;\n      const player = nearbyPlayers.find(p => p.id == participantWithSlot.participant.identity);\n      const remoteProfile = {\n        displayName: player ? player.userName : 'unknown',\n        id: participantWithSlot.participant.identity\n      };\n      return /*#__PURE__*/_jsxDEV(Participant, {\n        // highlight={highlightedProfiles?.includes(participant.identity) ?? false}\n        participant: participant,\n        profile: remoteProfile,\n        isSelected: participant === selectedParticipant,\n        onClick: () => setSelectedParticipant(participant),\n        hideParticipant: hideParticipant,\n        slot: participantWithSlot.slot,\n        insideGrid: props.gridView\n      }, participant.sid, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this);\n    })]\n  }, void 0, true);\n\n  return props.gridView ? /*#__PURE__*/_jsxDEV(\"main\", {\n    className: clsx(classes.gridContainer, {\n      [classes.transparentBackground]: true\n    }, 'participants-grid-container', {\n      // \"single-column\": preferredMode === \"sidebar\" && props.gridView,\n      'single-column': false\n    }),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.gridInnerContainer,\n      children: participantsEl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"aside\", {\n    className: clsx(classes.container, {\n      [classes.transparentBackground]: true\n    }),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.scrollContainer,\n      children: participantsEl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ParticipantList, \"apYKKdGk8LqnqripgMERAotrttw=\", false, function () {\n  return [useVideoContext, useParticipants, useSelectedParticipant, useScreenShareParticipant, useMainParticipant, useNearbyPlayers, useStyles];\n});\n\n_c = ParticipantList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ParticipantList\");","map":{"version":3,"sources":["/Users/nikitajethani/Desktop/cs-4530-covey/frontend/src/components/VideoCall/VideoFrontend/components/ParticipantList/ParticipantList.tsx"],"names":["React","clsx","makeStyles","createStyles","Participant","useMainParticipant","useParticipants","useVideoContext","useSelectedParticipant","useScreenShareParticipant","useNearbyPlayers","useStyles","width","theme","container","padding","overflowY","background","gridArea","zIndex","breakpoints","down","overflowX","display","transparentBackground","scrollContainer","gridContainer","gridInnerContainer","gridTemplateColumns","gridAutoRows","ParticipantList","props","room","localParticipant","participants","selectedParticipant","setSelectedParticipant","screenShareParticipant","mainParticipant","nearbyPlayers","classes","participantSorter","x","y","slot","participantsEl","gridView","filter","p","find","player","id","participant","identity","sort","map","participantWithSlot","isSelected","hideParticipant","length","remoteProfile","displayName","userName","sid"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport Participant from '../Participant/Participant';\nimport useMainParticipant from '../../hooks/useMainParticipant/useMainParticipant';\nimport useParticipants, { ParticipantWithSlot } from '../../hooks/useParticipants/useParticipants';\nimport useVideoContext from '../../hooks/useVideoContext/useVideoContext';\nimport useSelectedParticipant from '../VideoProvider/useSelectedParticipant/useSelectedParticipant';\nimport useScreenShareParticipant from '../../hooks/useScreenShareParticipant/useScreenShareParticipant';\nimport { UserProfile } from '../../../../../CoveyTypes';\n\nimport useNearbyPlayers from '../../../../../hooks/useNearbyPlayers';\n\nfunction useStyles(width: 'sidebar' | 'fullwidth') {\n  return makeStyles((theme: Theme) => createStyles({\n    container: {\n      padding: '2em',\n      overflowY: 'auto',\n      background: 'rgb(79, 83, 85)',\n      gridArea: '1 / 2 / 1 / 3',\n      zIndex: 5,\n      [theme.breakpoints.down('sm')]: {\n        gridArea: '2 / 1 / 3 / 3',\n        overflowY: 'initial',\n        overflowX: 'auto',\n        display: 'flex',\n        padding: '8px',\n      },\n    },\n    transparentBackground: {\n      background: 'transparent',\n    },\n    scrollContainer: {\n      [theme.breakpoints.down('sm')]: {\n        display: 'flex',\n      },\n    },\n    gridContainer: {\n      gridArea: '1 / 1 / 1 / 3',\n      overflowX: 'hidden',\n      overflowY: 'auto',\n      [theme.breakpoints.down('sm')]: {\n        gridArea: '1 / 1 / 3 / 1',\n      },\n    },\n    gridInnerContainer: {\n      display: 'grid',\n      gridTemplateColumns: width === 'sidebar' ? '1fr' : '1fr 1fr 1fr 1fr',\n      gridAutoRows: '1fr',\n      [theme.breakpoints.down('md')]: {\n        gridTemplateColumns: width === 'sidebar' ? '1fr' : '1fr 1fr 1fr',\n      },\n      [theme.breakpoints.down('sm')]: {\n        gridTemplateColumns: width === 'sidebar' ? '1fr' : '1fr 1fr',\n      },\n      [theme.breakpoints.down('xs')]: {\n        gridTemplateColumns: '1fr',\n      },\n    },\n  }))();\n}\n\nexport default function ParticipantList(props: { gridView: boolean }) {\n  const {\n    room: { localParticipant },\n  } = useVideoContext();\n  const participants = useParticipants();\n  const [selectedParticipant, setSelectedParticipant] = useSelectedParticipant();\n  const screenShareParticipant = useScreenShareParticipant();\n  const mainParticipant = useMainParticipant();\n  const { nearbyPlayers } = useNearbyPlayers();\n\n  // const { preferredMode, highlightedProfiles } = useAppState();\n  // const classes = useStyles(preferredMode);\n\n  const classes = useStyles('fullwidth');\n\n  function participantSorter(x: ParticipantWithSlot, y: ParticipantWithSlot): number {\n    return x.slot < y.slot ? -1 : x.slot === y.slot ? 0 : 1;\n  }\n\n  const participantsEl = (\n    <>\n      <Participant\n        participant={localParticipant}\n        isLocalParticipant\n        insideGrid={props.gridView}\n                // highlight={highlightedProfiles?.includes(localUserProfile.id) ?? false}\n        slot={0}\n      />\n      {participants\n        .filter((p) => nearbyPlayers.find((player) => player.id == p.participant.identity))\n        .sort(participantSorter).map((participantWithSlot) => {\n          const { participant } = participantWithSlot;\n          const isSelected = participant === selectedParticipant;\n          const hideParticipant = participant === mainParticipant\n                    && participant !== screenShareParticipant\n                    && !isSelected\n                    && participants.length > 1;\n          const player = nearbyPlayers.find((p) => p.id == participantWithSlot.participant.identity);\n          const remoteProfile = { displayName: player ? player.userName : 'unknown', id: participantWithSlot.participant.identity };\n          return (\n            <Participant\n              key={participant.sid}\n                        // highlight={highlightedProfiles?.includes(participant.identity) ?? false}\n              participant={participant}\n              profile={remoteProfile}\n              isSelected={participant === selectedParticipant}\n              onClick={() => setSelectedParticipant(participant)}\n              hideParticipant={hideParticipant}\n              slot={participantWithSlot.slot}\n              insideGrid={props.gridView}\n            />\n          );\n        })}\n    </>\n  );\n\n  return props.gridView ? (\n    <main\n      className={clsx(\n        classes.gridContainer,\n        {\n          [classes.transparentBackground]: true,\n        },\n        'participants-grid-container',\n        {\n          // \"single-column\": preferredMode === \"sidebar\" && props.gridView,\n          'single-column': false,\n        },\n      )}\n    >\n      <div className={classes.gridInnerContainer}>{participantsEl}</div>\n    </main>\n  ) : (\n    <aside\n      className={clsx(classes.container, {\n        [classes.transparentBackground]: true,\n      })}\n    >\n      <div className={classes.scrollContainer}>{participantsEl}</div>\n    </aside>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}