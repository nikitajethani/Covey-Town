{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/nikitajethani/Desktop/cs 4530/covey.town-master/frontend/src/components/VideoCall/VideoFrontend/components/ParticipantInfo/ParticipantInfo.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback } from 'react';\nimport clsx from 'clsx';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport AudioLevelIndicator from '../AudioLevelIndicator/AudioLevelIndicator';\nimport AvatarIcon from '../../icons/AvatarIcon';\nimport NetworkQualityLevel from '../NetworkQualityLevel/NetworkQualityLevel';\nimport PinIcon from './PinIcon/PinIcon';\nimport ScreenShareIcon from '../../icons/ScreenShareIcon';\nimport useIsTrackSwitchedOff from '../../hooks/useIsTrackSwitchedOff/useIsTrackSwitchedOff';\nimport usePublications from '../../hooks/usePublications/usePublications';\nimport useTrack from '../../hooks/useTrack/useTrack';\nimport useParticipantIsReconnecting from '../../hooks/useParticipantIsReconnecting/useParticipantIsReconnecting';\n// import BioPopover from \"../../../../Profile/BioPopover/BioPopover\";\nconst BORDER_SIZE = 3;\nconst useStyles = makeStyles(theme => createStyles({\n  container: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    height: 0,\n    overflow: 'hidden',\n    '& video': {\n      filter: 'none',\n      objectFit: 'contain !important'\n    },\n    paddingTop: `calc(${9 / 16 * 100}% - ${BORDER_SIZE}px)`,\n    border: `${BORDER_SIZE}px solid black`,\n    background: 'black'\n  },\n  notContainedInGrid: {\n    [theme.breakpoints.down('sm')]: {\n      height: theme.sidebarMobileHeight,\n      width: `${theme.sidebarMobileHeight * 16 / 9}px`,\n      marginRight: '8px',\n      marginBottom: '0',\n      fontSize: '10px',\n      paddingTop: `${theme.sidebarMobileHeight - 2}px`\n    }\n  },\n  innerContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%'\n  },\n  infoContainer: {\n    position: 'absolute',\n    zIndex: 2,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    height: '100%',\n    width: '100%',\n    background: 'transparent',\n    top: 0\n  },\n  avatarContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'black',\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    zIndex: 1,\n    [theme.breakpoints.down('sm')]: {\n      '& svg': {\n        transform: 'scale(0.7)'\n      }\n    }\n  },\n  reconnectingContainer: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'rgba(40, 42, 43, 0.75)',\n    zIndex: 1\n  },\n  screenShareIconContainer: {\n    background: 'rgba(0, 0, 0, 0.5)',\n    padding: '0.18em 0.3em',\n    marginRight: '0.3em',\n    display: 'flex',\n    '& path': {\n      fill: 'white'\n    }\n  },\n  identity: {\n    background: 'rgba(0, 0, 0, 0.5)',\n    color: 'white',\n    padding: '0.18em 0.3em',\n    margin: 0,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  infoRowBottom: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    position: 'absolute',\n    bottom: 0,\n    left: 0\n  },\n  networkQualityContainer: {\n    width: '28px',\n    height: '28px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'rgba(0, 0, 0, 0.5)'\n  },\n  typeography: {\n    color: 'white',\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '0.75rem'\n    }\n  },\n  hideParticipant: {\n    display: 'none'\n  },\n  cursorPointer: {\n    cursor: 'pointer'\n  },\n  highlightParticipant: {\n    border: `${BORDER_SIZE}px solid ${theme.palette.primary.main}`\n  }\n}));\nexport default function ParticipantInfo({\n  participant,\n  profile,\n  onClick,\n  isSelected,\n  children,\n  isLocalParticipant,\n  hideParticipant,\n  slot,\n  insideGrid,\n  highlight\n}) {\n  _s();\n\n  const publications = usePublications(participant);\n  const audioPublication = publications.find(p => p.kind === 'audio');\n  const videoPublication = publications.find(p => p.trackName.includes('camera'));\n  const isVideoEnabled = Boolean(videoPublication);\n  const isScreenShareEnabled = publications.find(p => p.trackName.includes('screen'));\n  const videoTrack = useTrack(videoPublication);\n  const isVideoSwitchedOff = useIsTrackSwitchedOff(videoTrack);\n  const audioTrack = useTrack(audioPublication);\n  const isParticipantReconnecting = useParticipantIsReconnecting(participant);\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const handlePopoverOpen = useCallback(event => {\n    setAnchorEl(event.currentTarget);\n  }, []);\n  const handlePopoverClose = useCallback(() => {\n    setAnchorEl(null);\n  }, []);\n  const bioPopoverOpen = Boolean(anchorEl); // const profilePopoverEl = useMemo(() => {\n  //     return profile ? (\n  //         <BioPopover\n  //             id={`${profile.id}-mouse-over-popover`}\n  //             profile={profile}\n  //             open={bioPopoverOpen}\n  //             anchorEl={anchorEl}\n  //             onClose={handlePopoverClose}\n  //         />\n  //     ) : <></>;\n  // }, [anchorEl, bioPopoverOpen, handlePopoverClose, profile]);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: clsx(classes.container, {\n      [classes.hideParticipant]: hideParticipant,\n      [classes.cursorPointer]: Boolean(onClick),\n      [classes.notContainedInGrid]: !insideGrid,\n      [classes.highlightParticipant]: highlight\n    }, slot !== undefined ? `area-${slot}` : undefined),\n    onClick: onClick,\n    \"data-cy-participant\": participant.identity,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.infoContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.networkQualityContainer,\n        children: /*#__PURE__*/_jsxDEV(NetworkQualityLevel, {\n          participant: participant\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.infoRowBottom,\n        children: [isScreenShareEnabled && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.screenShareIconContainer,\n          children: /*#__PURE__*/_jsxDEV(ScreenShareIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: classes.identity,\n          id: profile ? `${profile.id}-mouse-over-popover` : undefined,\n          \"aria-haspopup\": \"true\",\n          onMouseEnter: handlePopoverOpen,\n          onMouseLeave: handlePopoverClose,\n          href: `/profile/${profile ? profile.id : ''}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: [/*#__PURE__*/_jsxDEV(AudioLevelIndicator, {\n            audioTrack: audioTrack\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            className: classes.typeography,\n            component: \"span\",\n            children: [profile ? profile.displayName : '', isLocalParticipant && ' (You)']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: isSelected && /*#__PURE__*/_jsxDEV(PinIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.innerContainer,\n      children: [(!isVideoEnabled || isVideoSwitchedOff) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.avatarContainer,\n        children: /*#__PURE__*/_jsxDEV(AvatarIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), isParticipantReconnecting && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.reconnectingContainer,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          className: classes.typeography,\n          children: \"Reconnecting...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ParticipantInfo, \"WaZDOdxHAqctveXpI9enDalCYZQ=\", false, function () {\n  return [usePublications, useTrack, useIsTrackSwitchedOff, useTrack, useParticipantIsReconnecting, useStyles];\n});\n\n_c = ParticipantInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"ParticipantInfo\");","map":{"version":3,"sources":["/Users/nikitajethani/Desktop/cs 4530/covey.town-master/frontend/src/components/VideoCall/VideoFrontend/components/ParticipantInfo/ParticipantInfo.tsx"],"names":["React","useCallback","clsx","createStyles","makeStyles","Typography","AudioLevelIndicator","AvatarIcon","NetworkQualityLevel","PinIcon","ScreenShareIcon","useIsTrackSwitchedOff","usePublications","useTrack","useParticipantIsReconnecting","BORDER_SIZE","useStyles","theme","container","position","display","alignItems","height","overflow","filter","objectFit","paddingTop","border","background","notContainedInGrid","breakpoints","down","sidebarMobileHeight","width","marginRight","marginBottom","fontSize","innerContainer","top","left","infoContainer","zIndex","flexDirection","justifyContent","avatarContainer","right","bottom","transform","reconnectingContainer","screenShareIconContainer","padding","fill","identity","color","margin","infoRowBottom","networkQualityContainer","typeography","hideParticipant","cursorPointer","cursor","highlightParticipant","palette","primary","main","ParticipantInfo","participant","profile","onClick","isSelected","children","isLocalParticipant","slot","insideGrid","highlight","publications","audioPublication","find","p","kind","videoPublication","trackName","includes","isVideoEnabled","Boolean","isScreenShareEnabled","videoTrack","isVideoSwitchedOff","audioTrack","isParticipantReconnecting","classes","anchorEl","setAnchorEl","useState","handlePopoverOpen","event","currentTarget","handlePopoverClose","bioPopoverOpen","undefined","id","displayName"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,QAA4C,OAA5C;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,YAAT,EAAuBC,UAAvB,QAAgD,0BAAhD;AAKA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,mBAAP,MAAgC,4CAAhC;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,mBAAP,MAAgC,4CAAhC;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AAEA,OAAOC,qBAAP,MAAkC,yDAAlC;AACA,OAAOC,eAAP,MAA4B,6CAA5B;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,4BAAP,MAAyC,uEAAzC;AAEA;AAEA,MAAMC,WAAW,GAAG,CAApB;AAEA,MAAMC,SAAS,GAAGZ,UAAU,CAAEa,KAAD,IAAkBd,YAAY,CAAU;AACnEe,EAAAA,SAAS,EAAE;AACTC,IAAAA,QAAQ,EAAE,UADD;AAETC,IAAAA,OAAO,EAAE,MAFA;AAGTC,IAAAA,UAAU,EAAE,QAHH;AAITC,IAAAA,MAAM,EAAE,CAJC;AAKTC,IAAAA,QAAQ,EAAE,QALD;AAMT,eAAW;AACTC,MAAAA,MAAM,EAAE,MADC;AAETC,MAAAA,SAAS,EAAE;AAFF,KANF;AAUTC,IAAAA,UAAU,EAAG,QAAQ,IAAI,EAAL,GAAW,GAAI,OAAMX,WAAY,KAV5C;AAWTY,IAAAA,MAAM,EAAG,GAAEZ,WAAY,gBAXd;AAYTa,IAAAA,UAAU,EAAE;AAZH,GADwD;AAenEC,EAAAA,kBAAkB,EAAE;AAClB,KAACZ,KAAK,CAACa,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,GAAgC;AAC9BT,MAAAA,MAAM,EAAEL,KAAK,CAACe,mBADgB;AAE9BC,MAAAA,KAAK,EAAG,GAAGhB,KAAK,CAACe,mBAAN,GAA4B,EAA7B,GAAmC,CAAE,IAFjB;AAG9BE,MAAAA,WAAW,EAAE,KAHiB;AAI9BC,MAAAA,YAAY,EAAE,GAJgB;AAK9BC,MAAAA,QAAQ,EAAE,MALoB;AAM9BV,MAAAA,UAAU,EAAG,GAAET,KAAK,CAACe,mBAAN,GAA4B,CAAE;AANf;AADd,GAf+C;AAyBnEK,EAAAA,cAAc,EAAE;AACdlB,IAAAA,QAAQ,EAAE,UADI;AAEdmB,IAAAA,GAAG,EAAE,CAFS;AAGdC,IAAAA,IAAI,EAAE,CAHQ;AAIdN,IAAAA,KAAK,EAAE,MAJO;AAKdX,IAAAA,MAAM,EAAE;AALM,GAzBmD;AAgCnEkB,EAAAA,aAAa,EAAE;AACbrB,IAAAA,QAAQ,EAAE,UADG;AAEbsB,IAAAA,MAAM,EAAE,CAFK;AAGbrB,IAAAA,OAAO,EAAE,MAHI;AAIbsB,IAAAA,aAAa,EAAE,QAJF;AAKbC,IAAAA,cAAc,EAAE,eALH;AAMbrB,IAAAA,MAAM,EAAE,MANK;AAObW,IAAAA,KAAK,EAAE,MAPM;AAQbL,IAAAA,UAAU,EAAE,aARC;AASbU,IAAAA,GAAG,EAAE;AATQ,GAhCoD;AA2CnEM,EAAAA,eAAe,EAAE;AACfxB,IAAAA,OAAO,EAAE,MADM;AAEfC,IAAAA,UAAU,EAAE,QAFG;AAGfsB,IAAAA,cAAc,EAAE,QAHD;AAIff,IAAAA,UAAU,EAAE,OAJG;AAKfT,IAAAA,QAAQ,EAAE,UALK;AAMfmB,IAAAA,GAAG,EAAE,CANU;AAOfO,IAAAA,KAAK,EAAE,CAPQ;AAQfC,IAAAA,MAAM,EAAE,CARO;AASfP,IAAAA,IAAI,EAAE,CATS;AAUfE,IAAAA,MAAM,EAAE,CAVO;AAWf,KAACxB,KAAK,CAACa,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,GAAgC;AAC9B,eAAS;AACPgB,QAAAA,SAAS,EAAE;AADJ;AADqB;AAXjB,GA3CkD;AA4DnEC,EAAAA,qBAAqB,EAAE;AACrB7B,IAAAA,QAAQ,EAAE,UADW;AAErBmB,IAAAA,GAAG,EAAE,CAFgB;AAGrBO,IAAAA,KAAK,EAAE,CAHc;AAIrBC,IAAAA,MAAM,EAAE,CAJa;AAKrBP,IAAAA,IAAI,EAAE,CALe;AAMrBnB,IAAAA,OAAO,EAAE,MANY;AAOrBC,IAAAA,UAAU,EAAE,QAPS;AAQrBsB,IAAAA,cAAc,EAAE,QARK;AASrBf,IAAAA,UAAU,EAAE,wBATS;AAUrBa,IAAAA,MAAM,EAAE;AAVa,GA5D4C;AAwEnEQ,EAAAA,wBAAwB,EAAE;AACxBrB,IAAAA,UAAU,EAAE,oBADY;AAExBsB,IAAAA,OAAO,EAAE,cAFe;AAGxBhB,IAAAA,WAAW,EAAE,OAHW;AAIxBd,IAAAA,OAAO,EAAE,MAJe;AAKxB,cAAU;AACR+B,MAAAA,IAAI,EAAE;AADE;AALc,GAxEyC;AAiFnEC,EAAAA,QAAQ,EAAE;AACRxB,IAAAA,UAAU,EAAE,oBADJ;AAERyB,IAAAA,KAAK,EAAE,OAFC;AAGRH,IAAAA,OAAO,EAAE,cAHD;AAIRI,IAAAA,MAAM,EAAE,CAJA;AAKRlC,IAAAA,OAAO,EAAE,MALD;AAMRC,IAAAA,UAAU,EAAE;AANJ,GAjFyD;AAyFnEkC,EAAAA,aAAa,EAAE;AACbnC,IAAAA,OAAO,EAAE,MADI;AAEbuB,IAAAA,cAAc,EAAE,eAFH;AAGbxB,IAAAA,QAAQ,EAAE,UAHG;AAIb2B,IAAAA,MAAM,EAAE,CAJK;AAKbP,IAAAA,IAAI,EAAE;AALO,GAzFoD;AAgGnEiB,EAAAA,uBAAuB,EAAE;AACvBvB,IAAAA,KAAK,EAAE,MADgB;AAEvBX,IAAAA,MAAM,EAAE,MAFe;AAGvBF,IAAAA,OAAO,EAAE,MAHc;AAIvBC,IAAAA,UAAU,EAAE,QAJW;AAKvBsB,IAAAA,cAAc,EAAE,QALO;AAMvBf,IAAAA,UAAU,EAAE;AANW,GAhG0C;AAwGnE6B,EAAAA,WAAW,EAAE;AACXJ,IAAAA,KAAK,EAAE,OADI;AAEX,KAACpC,KAAK,CAACa,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,GAAgC;AAC9BK,MAAAA,QAAQ,EAAE;AADoB;AAFrB,GAxGsD;AA8GnEsB,EAAAA,eAAe,EAAE;AACftC,IAAAA,OAAO,EAAE;AADM,GA9GkD;AAiHnEuC,EAAAA,aAAa,EAAE;AACbC,IAAAA,MAAM,EAAE;AADK,GAjHoD;AAoHnEC,EAAAA,oBAAoB,EAAE;AACpBlC,IAAAA,MAAM,EAAG,GAAEZ,WAAY,YAAWE,KAAK,CAAC6C,OAAN,CAAcC,OAAd,CAAsBC,IAAK;AADzC;AApH6C,CAAV,CAA/B,CAA5B;AAsIA,eAAe,SAASC,eAAT,CAAyB;AACtCC,EAAAA,WADsC;AAEtCC,EAAAA,OAFsC;AAGtCC,EAAAA,OAHsC;AAItCC,EAAAA,UAJsC;AAKtCC,EAAAA,QALsC;AAMtCC,EAAAA,kBANsC;AAOtCb,EAAAA,eAPsC;AAQtCc,EAAAA,IARsC;AAStCC,EAAAA,UATsC;AAUtCC,EAAAA;AAVsC,CAAzB,EAWU;AAAA;;AACvB,QAAMC,YAAY,GAAG/D,eAAe,CAACsD,WAAD,CAApC;AAEA,QAAMU,gBAAgB,GAAGD,YAAY,CAACE,IAAb,CAAmBC,CAAD,IAAOA,CAAC,CAACC,IAAF,KAAW,OAApC,CAAzB;AACA,QAAMC,gBAAgB,GAAGL,YAAY,CAACE,IAAb,CAAmBC,CAAD,IAAOA,CAAC,CAACG,SAAF,CAAYC,QAAZ,CAAqB,QAArB,CAAzB,CAAzB;AAEA,QAAMC,cAAc,GAAGC,OAAO,CAACJ,gBAAD,CAA9B;AACA,QAAMK,oBAAoB,GAAGV,YAAY,CAACE,IAAb,CAAmBC,CAAD,IAAOA,CAAC,CAACG,SAAF,CAAYC,QAAZ,CAAqB,QAArB,CAAzB,CAA7B;AAEA,QAAMI,UAAU,GAAGzE,QAAQ,CAACmE,gBAAD,CAA3B;AACA,QAAMO,kBAAkB,GAAG5E,qBAAqB,CAAC2E,UAAD,CAAhD;AAEA,QAAME,UAAU,GAAG3E,QAAQ,CAAC+D,gBAAD,CAA3B;AACA,QAAMa,yBAAyB,GAAG3E,4BAA4B,CAACoD,WAAD,CAA9D;AAEA,QAAMwB,OAAO,GAAG1E,SAAS,EAAzB;AAEA,QAAM,CAAC2E,QAAD,EAAWC,WAAX,IAA0B5F,KAAK,CAAC6F,QAAN,CAAmC,IAAnC,CAAhC;AAEA,QAAMC,iBAAiB,GAAG7F,WAAW,CAAE8F,KAAD,IAAsD;AAC1FH,IAAAA,WAAW,CAACG,KAAK,CAACC,aAAP,CAAX;AACD,GAFoC,EAElC,EAFkC,CAArC;AAIA,QAAMC,kBAAkB,GAAGhG,WAAW,CAAC,MAAM;AAC3C2F,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD,GAFqC,EAEnC,EAFmC,CAAtC;AAIA,QAAMM,cAAc,GAAGd,OAAO,CAACO,QAAD,CAA9B,CA3BuB,CA6BvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBACE;AACE,IAAA,SAAS,EAAEzF,IAAI,CACbwF,OAAO,CAACxE,SADK,EAEb;AACE,OAACwE,OAAO,CAAChC,eAAT,GAA2BA,eAD7B;AAEE,OAACgC,OAAO,CAAC/B,aAAT,GAAyByB,OAAO,CAAChB,OAAD,CAFlC;AAGE,OAACsB,OAAO,CAAC7D,kBAAT,GAA8B,CAAC4C,UAHjC;AAIE,OAACiB,OAAO,CAAC7B,oBAAT,GAAgCa;AAJlC,KAFa,EAQbF,IAAI,KAAK2B,SAAT,GAAsB,QAAO3B,IAAK,EAAlC,GAAsC2B,SARzB,CADjB;AAWE,IAAA,OAAO,EAAE/B,OAXX;AAYE,2BAAqBF,WAAW,CAACd,QAZnC;AAAA,4BAcE;AAAK,MAAA,SAAS,EAAEsC,OAAO,CAAClD,aAAxB;AAAA,8BACE;AAAK,QAAA,SAAS,EAAEkD,OAAO,CAAClC,uBAAxB;AAAA,+BACE,QAAC,mBAAD;AAAqB,UAAA,WAAW,EAAEU;AAAlC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAK,QAAA,SAAS,EAAEwB,OAAO,CAACnC,aAAxB;AAAA,mBACG8B,oBAAoB,iBACnB;AAAM,UAAA,SAAS,EAAEK,OAAO,CAACzC,wBAAzB;AAAA,iCACE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAOE;AACE,UAAA,SAAS,EAAEyC,OAAO,CAACtC,QADrB;AAEE,UAAA,EAAE,EAAEe,OAAO,GAAI,GAAEA,OAAO,CAACiC,EAAG,qBAAjB,GAAwCD,SAFrD;AAGE,2BAAc,MAHhB;AAIE,UAAA,YAAY,EAAEL,iBAJhB;AAKE,UAAA,YAAY,EAAEG,kBALhB;AAME,UAAA,IAAI,EAAG,YAAW9B,OAAO,GAAGA,OAAO,CAACiC,EAAX,GAAgB,EAAG,EAN9C;AAOE,UAAA,MAAM,EAAC,QAPT;AAQE,UAAA,GAAG,EAAC,qBARN;AAAA,kCAUE,QAAC,mBAAD;AAAqB,YAAA,UAAU,EAAEZ;AAAjC;AAAA;AAAA;AAAA;AAAA,kBAVF,eAWE,QAAC,UAAD;AAAY,YAAA,OAAO,EAAC,OAApB;AAA4B,YAAA,SAAS,EAAEE,OAAO,CAACjC,WAA/C;AAA4D,YAAA,SAAS,EAAC,MAAtE;AAAA,uBACGU,OAAO,GAAGA,OAAO,CAACkC,WAAX,GAAyB,EADnC,EAEG9B,kBAAkB,IAAI,QAFzB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eA4BE;AAAA,kBAAMF,UAAU,iBAAI,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAApB;AAAA;AAAA;AAAA;AAAA,cA5BF;AAAA;AAAA;AAAA;AAAA;AAAA,YAdF,eA4CE;AAAK,MAAA,SAAS,EAAEqB,OAAO,CAACrD,cAAxB;AAAA,iBACG,CAAC,CAAC8C,cAAD,IAAmBI,kBAApB,kBACD;AAAK,QAAA,SAAS,EAAEG,OAAO,CAAC9C,eAAxB;AAAA,+BACE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF,EAMG6C,yBAAyB,iBAC1B;AAAK,QAAA,SAAS,EAAEC,OAAO,CAAC1C,qBAAxB;AAAA,+BACE,QAAC,UAAD;AAAY,UAAA,OAAO,EAAC,OAApB;AAA4B,UAAA,SAAS,EAAE0C,OAAO,CAACjC,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAPF,EAaGa,QAbH;AAAA;AAAA;AAAA;AAAA;AAAA,YA5CF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8DD;;GAlHuBL,e;UAYDrD,e,EAQFC,Q,EACQF,qB,EAERE,Q,EACeC,4B,EAElBE,S;;;KA1BMiD,e","sourcesContent":["import React, { useCallback, useMemo } from 'react';\nimport clsx from 'clsx';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport {\n  LocalAudioTrack, LocalVideoTrack, Participant, RemoteAudioTrack, RemoteVideoTrack,\n} from 'twilio-video';\n\nimport Typography from '@material-ui/core/Typography';\nimport AudioLevelIndicator from '../AudioLevelIndicator/AudioLevelIndicator';\nimport AvatarIcon from '../../icons/AvatarIcon';\nimport NetworkQualityLevel from '../NetworkQualityLevel/NetworkQualityLevel';\nimport PinIcon from './PinIcon/PinIcon';\nimport ScreenShareIcon from '../../icons/ScreenShareIcon';\n\nimport useIsTrackSwitchedOff from '../../hooks/useIsTrackSwitchedOff/useIsTrackSwitchedOff';\nimport usePublications from '../../hooks/usePublications/usePublications';\nimport useTrack from '../../hooks/useTrack/useTrack';\nimport useParticipantIsReconnecting from '../../hooks/useParticipantIsReconnecting/useParticipantIsReconnecting';\nimport { UserProfile } from '../../../../../CoveyTypes';\n// import BioPopover from \"../../../../Profile/BioPopover/BioPopover\";\n\nconst BORDER_SIZE = 3;\n\nconst useStyles = makeStyles((theme: Theme) => createStyles<any, {}>({\n  container: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    height: 0,\n    overflow: 'hidden',\n    '& video': {\n      filter: 'none',\n      objectFit: 'contain !important' as any,\n    },\n    paddingTop: `calc(${(9 / 16) * 100}% - ${BORDER_SIZE}px)`,\n    border: `${BORDER_SIZE}px solid black`,\n    background: 'black',\n  },\n  notContainedInGrid: {\n    [theme.breakpoints.down('sm')]: {\n      height: theme.sidebarMobileHeight,\n      width: `${(theme.sidebarMobileHeight * 16) / 9}px`,\n      marginRight: '8px',\n      marginBottom: '0',\n      fontSize: '10px',\n      paddingTop: `${theme.sidebarMobileHeight - 2}px`,\n    },\n  },\n  innerContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n  },\n  infoContainer: {\n    position: 'absolute',\n    zIndex: 2,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    height: '100%',\n    width: '100%',\n    background: 'transparent',\n    top: 0,\n  },\n  avatarContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'black',\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    zIndex: 1,\n    [theme.breakpoints.down('sm')]: {\n      '& svg': {\n        transform: 'scale(0.7)',\n      },\n    },\n  },\n  reconnectingContainer: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'rgba(40, 42, 43, 0.75)',\n    zIndex: 1,\n  },\n  screenShareIconContainer: {\n    background: 'rgba(0, 0, 0, 0.5)',\n    padding: '0.18em 0.3em',\n    marginRight: '0.3em',\n    display: 'flex',\n    '& path': {\n      fill: 'white',\n    },\n  },\n  identity: {\n    background: 'rgba(0, 0, 0, 0.5)',\n    color: 'white',\n    padding: '0.18em 0.3em',\n    margin: 0,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  infoRowBottom: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n  },\n  networkQualityContainer: {\n    width: '28px',\n    height: '28px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'rgba(0, 0, 0, 0.5)',\n  },\n  typeography: {\n    color: 'white',\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '0.75rem',\n    },\n  },\n  hideParticipant: {\n    display: 'none',\n  },\n  cursorPointer: {\n    cursor: 'pointer',\n  },\n  highlightParticipant: {\n    border: `${BORDER_SIZE}px solid ${theme.palette.primary.main}`,\n  },\n}));\n\ninterface ParticipantInfoProps {\n  participant: Participant;\n  profile?: UserProfile;\n  children: React.ReactNode;\n  onClick?: () => void;\n  isSelected?: boolean;\n  isLocalParticipant?: boolean;\n  hideParticipant?: boolean;\n  slot?: number;\n  insideGrid: boolean;\n  highlight?: boolean;\n}\n\nexport default function ParticipantInfo({\n  participant,\n  profile,\n  onClick,\n  isSelected,\n  children,\n  isLocalParticipant,\n  hideParticipant,\n  slot,\n  insideGrid,\n  highlight,\n}: ParticipantInfoProps) {\n  const publications = usePublications(participant);\n\n  const audioPublication = publications.find((p) => p.kind === 'audio');\n  const videoPublication = publications.find((p) => p.trackName.includes('camera'));\n\n  const isVideoEnabled = Boolean(videoPublication);\n  const isScreenShareEnabled = publications.find((p) => p.trackName.includes('screen'));\n\n  const videoTrack = useTrack(videoPublication);\n  const isVideoSwitchedOff = useIsTrackSwitchedOff(videoTrack as LocalVideoTrack | RemoteVideoTrack);\n\n  const audioTrack = useTrack(audioPublication) as LocalAudioTrack | RemoteAudioTrack | undefined;\n  const isParticipantReconnecting = useParticipantIsReconnecting(participant);\n\n  const classes = useStyles();\n\n  const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\n\n  const handlePopoverOpen = useCallback((event: React.MouseEvent<HTMLElement, MouseEvent>) => {\n    setAnchorEl(event.currentTarget);\n  }, []);\n\n  const handlePopoverClose = useCallback(() => {\n    setAnchorEl(null);\n  }, []);\n\n  const bioPopoverOpen = Boolean(anchorEl);\n\n  // const profilePopoverEl = useMemo(() => {\n  //     return profile ? (\n  //         <BioPopover\n  //             id={`${profile.id}-mouse-over-popover`}\n  //             profile={profile}\n  //             open={bioPopoverOpen}\n  //             anchorEl={anchorEl}\n  //             onClose={handlePopoverClose}\n  //         />\n  //     ) : <></>;\n  // }, [anchorEl, bioPopoverOpen, handlePopoverClose, profile]);\n\n  return (\n    <div\n      className={clsx(\n        classes.container,\n        {\n          [classes.hideParticipant]: hideParticipant,\n          [classes.cursorPointer]: Boolean(onClick),\n          [classes.notContainedInGrid]: !insideGrid,\n          [classes.highlightParticipant]: highlight,\n        },\n        slot !== undefined ? `area-${slot}` : undefined,\n      )}\n      onClick={onClick}\n      data-cy-participant={participant.identity}\n    >\n      <div className={classes.infoContainer}>\n        <div className={classes.networkQualityContainer}>\n          <NetworkQualityLevel participant={participant} />\n        </div>\n        <div className={classes.infoRowBottom}>\n          {isScreenShareEnabled && (\n            <span className={classes.screenShareIconContainer}>\n              <ScreenShareIcon />\n            </span>\n          )}\n          {/* {profilePopoverEl} */}\n          <a\n            className={classes.identity}\n            id={profile ? `${profile.id}-mouse-over-popover` : undefined}\n            aria-haspopup=\"true\"\n            onMouseEnter={handlePopoverOpen}\n            onMouseLeave={handlePopoverClose}\n            href={`/profile/${profile ? profile.id : ''}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <AudioLevelIndicator audioTrack={audioTrack} />\n            <Typography variant=\"body1\" className={classes.typeography} component=\"span\">\n              {profile ? profile.displayName : ''}\n              {isLocalParticipant && ' (You)'}\n            </Typography>\n          </a>\n        </div>\n        <div>{isSelected && <PinIcon />}</div>\n      </div>\n      <div className={classes.innerContainer}>\n        {(!isVideoEnabled || isVideoSwitchedOff) && (\n        <div className={classes.avatarContainer}>\n          <AvatarIcon />\n        </div>\n        )}\n        {isParticipantReconnecting && (\n        <div className={classes.reconnectingContainer}>\n          <Typography variant=\"body1\" className={classes.typeography}>\n            Reconnecting...\n          </Typography>\n        </div>\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}