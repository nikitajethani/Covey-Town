{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/nikitajethani/Desktop/cs-4530-covey/frontend/src/components/VideoCall/VideoFrontend/components/PreJoinScreens/DeviceSelectionScreen/DeviceSelectionScreen.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Grid, Hidden, makeStyles } from '@material-ui/core';\nimport { useForm } from 'react-hook-form';\nimport LocalVideoPreview from './LocalVideoPreview/LocalVideoPreview';\nimport SettingsMenu from './SettingsMenu/SettingsMenu';\nimport ToggleAudioButton from '../../Buttons/ToggleAudioButton/ToggleAudioButton';\nimport ToggleVideoButton from '../../Buttons/ToggleVideoButton/ToggleVideoButton';\nimport { useAppState } from '../../../state';\nimport useVideoContext from '../../../hooks/useVideoContext/useVideoContext';\nconst useStyles = makeStyles(theme => ({\n  gutterBottom: {\n    marginBottom: '1em'\n  },\n  marginTop: {\n    marginTop: '1em'\n  },\n  deviceButton: {\n    color: 'black',\n    width: '100%',\n    border: '2px solid #aaa',\n    margin: '1em 0',\n    '&:hover': {\n      color: 'black'\n    }\n  },\n  localPreviewContainer: {\n    paddingRight: '2em',\n    [theme.breakpoints.down('sm')]: {\n      padding: '0 2.5em'\n    }\n  },\n  joinButtons: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column-reverse',\n      width: '100%',\n      '& button': {\n        margin: '0.5em 0'\n      }\n    }\n  },\n  mobileButtonBar: {\n    [theme.breakpoints.down('sm')]: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      margin: '1.5em 0 1em'\n    }\n  },\n  mobileButton: {\n    padding: '0.8em 0',\n    margin: 0\n  }\n}));\nexport default function DeviceSelectionScreen({\n  setMediaError\n}) {\n  _s();\n\n  const classes = useStyles();\n  const {\n    getToken,\n    isFetching\n  } = useAppState();\n  const {\n    connect,\n    isAcquiringLocalTracks,\n    isConnecting,\n    localAudioTrack,\n    localVideoTrack\n  } = useVideoContext();\n  const disableButtons = isFetching || isAcquiringLocalTracks || isConnecting;\n  const {\n    handleSubmit,\n    errors,\n    register,\n    formState\n  } = useForm();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      justify: \"center\",\n      \"aria-label\": \"join video room form\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 7,\n        sm: 12,\n        xs: 12,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.localPreviewContainer,\n          children: /*#__PURE__*/_jsxDEV(LocalVideoPreview, {\n            identity: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.mobileButtonBar,\n          children: [/*#__PURE__*/_jsxDEV(Hidden, {\n            mdUp: true,\n            children: [/*#__PURE__*/_jsxDEV(ToggleAudioButton, {\n              className: classes.mobileButton,\n              disabled: disableButtons,\n              setMediaError: setMediaError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ToggleVideoButton, {\n              className: classes.mobileButton,\n              disabled: disableButtons,\n              setMediaError: setMediaError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SettingsMenu, {\n            mobileButtonClass: classes.mobileButton\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 5,\n        sm: 12,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"column\",\n          justify: \"space-between\",\n          style: {\n            height: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Hidden, {\n              smDown: true,\n              children: [/*#__PURE__*/_jsxDEV(ToggleAudioButton, {\n                className: classes.deviceButton,\n                disabled: disableButtons,\n                setMediaError: setMediaError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ToggleVideoButton, {\n                className: classes.deviceButton,\n                disabled: disableButtons,\n                setMediaError: setMediaError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(DeviceSelectionScreen, \"h0mPg+V9EUPjAs5aAv3f4gG53lg=\", false, function () {\n  return [useStyles, useAppState, useVideoContext, useForm];\n});\n\n_c = DeviceSelectionScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeviceSelectionScreen\");","map":{"version":3,"sources":["/Users/nikitajethani/Desktop/cs-4530-covey/frontend/src/components/VideoCall/VideoFrontend/components/PreJoinScreens/DeviceSelectionScreen/DeviceSelectionScreen.tsx"],"names":["React","Grid","Hidden","makeStyles","useForm","LocalVideoPreview","SettingsMenu","ToggleAudioButton","ToggleVideoButton","useAppState","useVideoContext","useStyles","theme","gutterBottom","marginBottom","marginTop","deviceButton","color","width","border","margin","localPreviewContainer","paddingRight","breakpoints","down","padding","joinButtons","display","justifyContent","flexDirection","mobileButtonBar","mobileButton","DeviceSelectionScreen","setMediaError","classes","getToken","isFetching","connect","isAcquiringLocalTracks","isConnecting","localAudioTrack","localVideoTrack","disableButtons","handleSubmit","errors","register","formState","height"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\nimport { Grid, Hidden, makeStyles, Theme, } from '@material-ui/core';\nimport { useForm } from 'react-hook-form';\nimport { Button, FormControl, FormErrorMessage, FormLabel, Input, useToast, } from '@chakra-ui/react';\nimport assert from 'assert';\nimport LocalVideoPreview from './LocalVideoPreview/LocalVideoPreview';\nimport SettingsMenu from './SettingsMenu/SettingsMenu';\nimport ToggleAudioButton from '../../Buttons/ToggleAudioButton/ToggleAudioButton';\nimport ToggleVideoButton from '../../Buttons/ToggleVideoButton/ToggleVideoButton';\nimport { useAppState } from '../../../state';\nimport useVideoContext from '../../../hooks/useVideoContext/useVideoContext';\nimport { VideoRoom } from '../../../../../../CoveyTypes';\n\nimport Video from '../../../../../../classes/Video/Video';\nimport { TownJoinResponse } from '../../../../../../classes/TownsServiceClient';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  gutterBottom: {\n    marginBottom: '1em',\n  },\n  marginTop: {\n    marginTop: '1em',\n  },\n  deviceButton: {\n    color: 'black',\n    width: '100%',\n    border: '2px solid #aaa',\n    margin: '1em 0',\n    '&:hover': {\n      color: 'black',\n    },\n  },\n  localPreviewContainer: {\n    paddingRight: '2em',\n    [theme.breakpoints.down('sm')]: {\n      padding: '0 2.5em',\n    },\n  },\n  joinButtons: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column-reverse',\n      width: '100%',\n      '& button': {\n        margin: '0.5em 0',\n      },\n    },\n  },\n  mobileButtonBar: {\n    [theme.breakpoints.down('sm')]: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      margin: '1.5em 0 1em',\n    },\n  },\n  mobileButton: {\n    padding: '0.8em 0',\n    margin: 0,\n  },\n}));\n\ninterface DeviceSelectionScreenProps {\n  setMediaError?(error: Error): void;\n}\n\nexport default function DeviceSelectionScreen({ setMediaError }: DeviceSelectionScreenProps) {\n  const classes = useStyles();\n  const { getToken, isFetching } = useAppState();\n  const {\n    connect, isAcquiringLocalTracks, isConnecting, localAudioTrack, localVideoTrack,\n  } = useVideoContext();\n  const disableButtons = isFetching || isAcquiringLocalTracks || isConnecting;\n  const {\n    handleSubmit, errors, register, formState,\n  } = useForm();\n\n  return (\n    <>\n      <Grid container justify=\"center\" aria-label=\"join video room form\">\n        <Grid item md={7} sm={12} xs={12}>\n          <div className={classes.localPreviewContainer}>\n            <LocalVideoPreview identity=\"\" />\n          </div>\n          <div className={classes.mobileButtonBar}>\n            <Hidden mdUp>\n              <ToggleAudioButton\n                className={classes.mobileButton}\n                disabled={disableButtons}\n                setMediaError={setMediaError}\n              />\n              <ToggleVideoButton\n                className={classes.mobileButton}\n                disabled={disableButtons}\n                setMediaError={setMediaError}\n              />\n            </Hidden>\n            <SettingsMenu mobileButtonClass={classes.mobileButton} />\n          </div>\n        </Grid>\n        <Grid item md={5} sm={12} xs={12}>\n          <Grid container direction=\"column\" justify=\"space-between\" style={{ height: '100%' }}>\n            <div>\n              <Hidden smDown>\n                <ToggleAudioButton\n                  className={classes.deviceButton}\n                  disabled={disableButtons}\n                  setMediaError={setMediaError}\n                />\n                <ToggleVideoButton\n                  className={classes.deviceButton}\n                  disabled={disableButtons}\n                  setMediaError={setMediaError}\n                />\n              </Hidden>\n            </div>\n          </Grid>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}