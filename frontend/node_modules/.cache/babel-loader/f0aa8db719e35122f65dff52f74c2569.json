{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useRef } from 'react';\nimport { useAppState } from '../../state';\nexport default function AudioTrack({\n  track\n}) {\n  _s();\n\n  const {\n    activeSinkId\n  } = useAppState();\n  const audioEl = useRef();\n  useEffect(() => {\n    audioEl.current = track.attach();\n    audioEl.current.setAttribute('data-cy-audio-track-name', track.name);\n    document.body.appendChild(audioEl.current);\n    return () => track.detach().forEach(el => el.remove());\n  }, [track]);\n  useEffect(() => {\n    var _audioEl$current, _audioEl$current$setS;\n\n    (_audioEl$current = audioEl.current) === null || _audioEl$current === void 0 ? void 0 : (_audioEl$current$setS = _audioEl$current.setSinkId) === null || _audioEl$current$setS === void 0 ? void 0 : _audioEl$current$setS.call(_audioEl$current, activeSinkId);\n  }, [activeSinkId]);\n  return null;\n}\n\n_s(AudioTrack, \"OLC5SKc44nQnCYja+9gSgpN9OyU=\", false, function () {\n  return [useAppState];\n});\n\n_c = AudioTrack;\n\nvar _c;\n\n$RefreshReg$(_c, \"AudioTrack\");","map":{"version":3,"sources":["/Users/nikitajethani/Desktop/cs-4530-covey/frontend/src/components/VideoCall/VideoFrontend/components/AudioTrack/AudioTrack.tsx"],"names":["useEffect","useRef","useAppState","AudioTrack","track","activeSinkId","audioEl","current","attach","setAttribute","name","document","body","appendChild","detach","forEach","el","remove","setSinkId"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AAEA,SAASC,WAAT,QAA4B,aAA5B;AAMA,eAAe,SAASC,UAAT,CAAoB;AAAEC,EAAAA;AAAF,CAApB,EAAgD;AAAA;;AAC7D,QAAM;AAAEC,IAAAA;AAAF,MAAmBH,WAAW,EAApC;AACA,QAAMI,OAAO,GAAGL,MAAM,EAAtB;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,OAAO,CAACC,OAAR,GAAkBH,KAAK,CAACI,MAAN,EAAlB;AACAF,IAAAA,OAAO,CAACC,OAAR,CAAgBE,YAAhB,CAA6B,0BAA7B,EAAyDL,KAAK,CAACM,IAA/D;AACAC,IAAAA,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BP,OAAO,CAACC,OAAlC;AACA,WAAO,MAAMH,KAAK,CAACU,MAAN,GAAeC,OAAf,CAAwBC,EAAD,IAAQA,EAAE,CAACC,MAAH,EAA/B,CAAb;AACD,GALQ,EAKN,CAACb,KAAD,CALM,CAAT;AAOAJ,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACd,wBAAAM,OAAO,CAACC,OAAR,+FAAiBW,SAAjB,uGAA6Bb,YAA7B;AACD,GAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;AAIA,SAAO,IAAP;AACD;;GAhBuBF,U;UACGD,W;;;KADHC,U","sourcesContent":["import { useEffect, useRef } from 'react';\nimport { AudioTrack as IAudioTrack } from 'twilio-video';\nimport { useAppState } from '../../state';\n\ninterface AudioTrackProps {\n  track: IAudioTrack;\n}\n\nexport default function AudioTrack({ track }: AudioTrackProps) {\n  const { activeSinkId } = useAppState();\n  const audioEl = useRef<HTMLAudioElement>();\n\n  useEffect(() => {\n    audioEl.current = track.attach();\n    audioEl.current.setAttribute('data-cy-audio-track-name', track.name);\n    document.body.appendChild(audioEl.current);\n    return () => track.detach().forEach((el) => el.remove());\n  }, [track]);\n\n  useEffect(() => {\n    audioEl.current?.setSinkId?.(activeSinkId);\n  }, [activeSinkId]);\n\n  return null;\n}\n"]},"metadata":{},"sourceType":"module"}